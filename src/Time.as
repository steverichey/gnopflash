package{	import flash.display.MovieClip;	import flash.text.TextField;	import flash.utils.Timer;	import flash.events.TimerEvent;	import flash.events.Event;	import flash.text.GridFitType;	import flash.text.AntiAliasType;	import flash.text.TextFormat;		public class Time extends MovieClip	{		private var now:Date;		private var minutes:Number;		private var hours:Number;		private var ampm:String;		private var minuteString:String;		private var timeTimer:Timer;				public var timeField:TextField;				// The time class simply keeps the time in the top bar accurate to reflect the user's time.				public function Time()		{			if ( stage )			{				onAddtoStage();			}			else			{				addEventListener( Event.ADDED_TO_STAGE, onAddtoStage, false, 0, true );			}		}				public function onAddtoStage( e:Event = null ):void		{			removeEventListener( Event.ADDED_TO_STAGE, onAddtoStage );						timeField = new TextField();			timeField.embedFonts = true;			timeField.defaultTextFormat = new TextFormat( "chicago", 12, 0x000000, null, null, null, null, null, "left" );			timeField.gridFitType = GridFitType.PIXEL;			timeField.antiAliasType = AntiAliasType.ADVANCED;			timeField.thickness = 0;			timeField.sharpness = 0;			timeField.text = "00:00 AM";			addChild( timeField );						updateTime();						// The time is updated once per second. Unecessary 59 out of 60 times, but probably not a huge drain.						timeTimer = new Timer( 1000 );			timeTimer.addEventListener( TimerEvent.TIMER, updateTime, false, 0, true );			timeTimer.start();		}				public function updateTime( t:TimerEvent = null ):void		{			now = new Date();						hours = now.getHours();						if ( hours == 0 )			{				hours = 12;				ampm = "AM"			}			else if ( hours > 12 )			{				hours -= 12;				ampm = "PM";			}			else			{				ampm = "AM";			}						minutes = now.getMinutes();			minuteString = new String();						if ( minutes < 10 )			{				minuteString = "0" + minutes.toString();			}			else			{				minuteString = minutes.toString();			}						timeField.text = hours.toString() + ":" + minuteString + " " + ampm;						// Choosing right-align was causing some blurriness in the text, so instead I do this:						timeField.x = 100 - timeField.textWidth;		}	}}